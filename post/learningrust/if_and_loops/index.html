<!DOCTYPE html>
<html lang="en">

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="generator" content="Hugo 0.29" />

  <title>Learning Rust - If and Loops &middot; 外部記憶</title>

  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.2/pure-min.css">

  <!--[if lte IE 8]>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.2/grids-responsive-old-ie-min.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.2/grids-responsive-min.css">
  <!--<![endif]-->

  <!--[if lte IE 8]>
  <link rel="stylesheet" href="/css/side-menu-old-ie.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="/css/side-menu.css">
  <!--<![endif]-->

  <link rel="stylesheet" href="/css/blackburn.css">

  
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

  
  <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet" type="text/css">

  
  

  

  <link rel="shortcut icon" href="/img/favicon.ico" type="image/x-icon" />

  
  

</head>


<body>
<div id="layout">

  
<a href="#menu" id="menuLink" class="menu-link">
  
  <span></span>
</a>
<div id="menu">

  

  <div class="pure-menu">
    <ul class="pure-menu-list">
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="/about/"><i class='fa fa-user fa-fw'></i>About</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="/post/"><i class='fa fa-list fa-fw'></i>Posts</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="/tags/"><i class='fa fa-tags fa-fw'></i>Tags</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="/"><i class='fa fa-home fa-fw'></i>Home</a>
      
        </li>
      
    </ul>
  </div>

  <div class="pure-menu social">
  <ul class="pure-menu-list">

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://twitter.com/ordovicia" target="_blank"><i class="fa fa-twitter-square fa-fw"></i>Twitter</a>
    </li>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://github.com/ordovicia" target="_blank"><i class="fa fa-github-square fa-fw"></i>GitHub</a>
    </li>
    

    

    

    

    

    

    

    

    

    

    

    

    

  </ul>
</div>


  <div>
  <div class="small-print">
    <small>&copy; 2017. All rights reserved.</small>
  </div>
  <div class="small-print">
    <small>Built with&nbsp;<a href="https://gohugo.io/" target="_blank">Hugo</a></small>
    <small>Theme&nbsp;<a href="https://github.com/yoshiharuyamashita/blackburn" target="_blank">Blackburn</a></small>
  </div>
</div>

</div>


  <div id="main">


<div class="header">
  <h1>Learning Rust - If and Loops</h1>
  <h2></h2>
</div>
<div class="content">

  <div class="post-meta">

  <div>
    <i class="fa fa-calendar fa-fw"></i>
    <time>24 Nov 2015</time>
  </div>

  

  

  
  
  
  <div>
    <i class="fa fa-tags fa-fw"></i>
    
      <a class="post-taxonomy-tag" href="/tags/programming">Programming</a>&nbsp;&#47;
    
      <a class="post-taxonomy-tag" href="/tags/rust">Rust</a>
    
  </div>
  
  

</div>

  

<p>ひさびさのRustです。
というか最近更新サボり気味ですね。</p>

<h1 id="syntax-and-semantics">Syntax and Semantics</h1>

<p>引き続いてRustのsyntaxとsemanticsを学びます。</p>

<h2 id="if">If</h2>

<p>条件分岐ですね。以下のようなsyntaxです。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-rust" data-lang="rust"><span style="color:#66d9ef">let</span><span style=""> </span><span style="">x</span><span style=""> </span><span style="color:#f92672">=</span><span style=""> </span><span style="color:#ae81ff">5</span><span style="">;</span><span style="">
</span><span style="">
</span><span style=""></span><span style="color:#66d9ef">if</span><span style=""> </span><span style="">x</span><span style=""> </span><span style="color:#f92672">==</span><span style=""> </span><span style="color:#ae81ff">5</span><span style=""> </span><span style="">{</span><span style="">
</span><span style="">    </span><span style="">println</span><span style="color:#f92672">!</span><span style="">(</span><span style="color:#e6db74">&#34;x is five!&#34;</span><span style="">);</span><span style="">
</span><span style=""></span><span style="">}</span><span style=""> </span><span style="color:#66d9ef">else</span><span style=""> </span><span style="color:#66d9ef">if</span><span style=""> </span><span style="">x</span><span style=""> </span><span style="color:#f92672">==</span><span style=""> </span><span style="color:#ae81ff">6</span><span style=""> </span><span style="">{</span><span style="">
</span><span style="">    </span><span style="">println</span><span style="color:#f92672">!</span><span style="">(</span><span style="color:#e6db74">&#34;x is six!&#34;</span><span style="">);</span><span style="">
</span><span style=""></span><span style="">}</span><span style=""> </span><span style="color:#66d9ef">else</span><span style=""> </span><span style="">{</span><span style="">
</span><span style="">    </span><span style="">println</span><span style="color:#f92672">!</span><span style="">(</span><span style="color:#e6db74">&#34;x is not five or six :(&#34;</span><span style="">);</span><span style="">
</span><span style=""></span><span style="">}</span></code></pre>
</div>
<p>条件式の<code>()</code>はつけないが、then節、else節には<code>{}</code>が必要なようです。
もちろんelse節は省略できます。</p>

<p>実は<code>if</code>はexpressionなので、値を返します。
例えば、</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-rust" data-lang="rust"><span style="color:#66d9ef">let</span><span style=""> </span><span style="">x</span><span style=""> </span><span style="color:#f92672">=</span><span style=""> </span><span style="color:#ae81ff">5</span><span style="">;</span><span style="">
</span><span style=""></span><span style="color:#66d9ef">let</span><span style=""> </span><span style="">y</span><span style=""> </span><span style="color:#f92672">=</span><span style=""> </span><span style="color:#66d9ef">if</span><span style=""> </span><span style="">x</span><span style=""> </span><span style="color:#f92672">==</span><span style=""> </span><span style="color:#ae81ff">5</span><span style=""> </span><span style="">{</span><span style=""> </span><span style="color:#ae81ff">10</span><span style=""> </span><span style="">}</span><span style=""> </span><span style="color:#66d9ef">else</span><span style=""> </span><span style="">{</span><span style=""> </span><span style="color:#ae81ff">15</span><span style=""> </span><span style="">};</span><span style=""> </span><span style="color:#f92672">//</span><span style=""> </span><span style="">y</span><span style=""> </span><span style="color:#f92672">=</span><span style=""> </span><span style="color:#ae81ff">10</span></code></pre>
</div>
<p>となります。
then節、else節にstatementを書くと空tuple<code>()</code>が返るようです。
もちろんthen節とelse節に違う型のexpressionを書くことはできません。</p>

<p>現時点でのドキュメントだと、</p>

<blockquote>
<p>An if without an else always results in () as the value.</p>
</blockquote>

<p>と書いてあったのですが、
Rust v1.4でif-expressionの値を代入するとき、
else節を省略するとコンパイルエラーになりました。</p>

<h2 id="loop">Loop</h2>

<p>条件式とならんで制御構文を代表する繰り返し構文です。
Rustには3つの方法があります。
<code>loop, while, for</code>です。</p>

<p>(<code>until</code>や<code>unless</code>があるとよかったのですが、かえってわかりにくいでしょうか)</p>

<h3 id="loop-1"><code>loop</code></h3>

<p><code>loop</code>キーワードは無限ループを作ります。
<code>break</code>や<code>return</code>で抜けることができます。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-rust" data-lang="rust"><span style="color:#66d9ef">loop</span><span style=""> </span><span style="">{</span><span style="">
</span><span style="">    </span><span style="">println</span><span style="color:#f92672">!</span><span style="">(</span><span style="color:#e6db74">&#34;Loop forever!&#34;</span><span style="">);</span><span style="">
</span><span style=""></span><span style="">}</span></code></pre>
</div>
<h3 id="while"><code>while</code></h3>

<p>おなじみ<code>while</code>は、条件が満たされるまで繰り返します。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-rust" data-lang="rust"><span style="color:#66d9ef">let</span><span style=""> </span><span style="color:#66d9ef">mut</span><span style=""> </span><span style="">x</span><span style=""> </span><span style="color:#f92672">=</span><span style=""> </span><span style="color:#ae81ff">5</span><span style="">;</span><span style="">
</span><span style=""></span><span style="color:#66d9ef">let</span><span style=""> </span><span style="color:#66d9ef">mut</span><span style=""> </span><span style="">done</span><span style=""> </span><span style="color:#f92672">=</span><span style=""> </span><span style="color:#66d9ef">false</span><span style="">;</span><span style="">
</span><span style="">
</span><span style=""></span><span style="color:#66d9ef">while</span><span style=""> </span><span style="color:#f92672">!</span><span style="">done</span><span style=""> </span><span style="">{</span><span style="">
</span><span style="">    </span><span style="">x</span><span style=""> </span><span style="color:#f92672">+=</span><span style=""> </span><span style="">x</span><span style=""> </span><span style="color:#f92672">-</span><span style=""> </span><span style="color:#ae81ff">3</span><span style="">;</span><span style="">
</span><span style="">    </span><span style="">println</span><span style="color:#f92672">!</span><span style="">(</span><span style="color:#e6db74">&#34;{}&#34;</span><span style="">,</span><span style=""> </span><span style="">x</span><span style="">);</span><span style="">
</span><span style="">
</span><span style="">    </span><span style="color:#66d9ef">if</span><span style=""> </span><span style="">x</span><span style=""> </span><span style="color:#f92672">%</span><span style=""> </span><span style="color:#ae81ff">5</span><span style=""> </span><span style="color:#f92672">==</span><span style=""> </span><span style="color:#ae81ff">0</span><span style=""> </span><span style="">{</span><span style="">
</span><span style="">        </span><span style="">done</span><span style=""> </span><span style="color:#f92672">=</span><span style=""> </span><span style="color:#66d9ef">true</span><span style="">;</span><span style="">
</span><span style="">    </span><span style="">}</span><span style="">
</span><span style=""></span><span style="">}</span></code></pre>
</div>
<p>上述の<code>loop</code>は<code>while true</code>と同値でしょうか？
実は(少なくともv1.4の)Rustでは、
<code>loop</code>は<code>while true</code>の単なる置き換えではありません。
例えば、</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-rust" data-lang="rust"><span style="color:#66d9ef">let</span><span style=""> </span><span style="color:#66d9ef">mut</span><span style=""> </span><span style="">a</span><span style="">;</span><span style="">
</span><span style=""></span><span style="color:#66d9ef">loop</span><span style=""> </span><span style="">{</span><span style="">
</span><span style="">    </span><span style="">a</span><span style=""> </span><span style="color:#f92672">=</span><span style=""> </span><span style="color:#ae81ff">1</span><span style="">;</span><span style="">
</span><span style="">    </span><span style="color:#66d9ef">break</span><span style=""></span><span style=""></span><span style="">;</span><span style="">
</span><span style=""></span><span style="">}</span><span style="">
</span><span style=""></span><span style="">println</span><span style="color:#f92672">!</span><span style="">(</span><span style="color:#e6db74">&#34;{}&#34;</span><span style="">,</span><span style=""> </span><span style="">a</span><span style="">);</span></code></pre>
</div>
<p>は正しいコードですが、<code>loop</code>を<code>while true</code>で置き換えると、
<code>a</code>が未初期化であるとのコンパイルエラーになります。
というのは、<code>loop</code>キーワードを使うと、
必ずその中身が実行されることがわかっているので、
<code>a</code>がちゃんと初期化されることがわかるから、ということらしいです。(参考: <a href="https://github.com/rust-lang/rust/issues/12975">https://github.com/rust-lang/rust/issues/12975</a> )</p>

<p>でも、コンパイラが<code>while true</code>を見つけたら
<code>loop</code>とみなすのではダメなんでしょうか？</p>

<h2 id="for"><code>for</code></h2>

<p><code>for</code>はある範囲を走査しながら繰り返す構文です。
syntaxは以下のようになっています。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-rust" data-lang="rust"><span style="color:#66d9ef">for</span><span style=""> </span><span style="">var</span><span style=""> </span><span style="color:#66d9ef">in</span><span style=""> </span><span style="">expression</span><span style=""> </span><span style="">{</span><span style="">
</span><span style="">    </span><span style="">code</span><span style="">
</span><span style=""></span><span style="">}</span></code></pre>
</div>
<p>C++とかにもある形ですが、
<code>var, expression</code>に適用できるものパターンが強力になっています。</p>

<p>まずはC++にもある、数値を動かしていくもの。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-rust" data-lang="rust"><span style="color:#66d9ef">for</span><span style=""> </span><span style="">i</span><span style=""> </span><span style="color:#66d9ef">in</span><span style=""> </span><span style="color:#ae81ff">0</span><span style="">..</span><span style="color:#ae81ff">10</span><span style=""> </span><span style="">{</span><span style="">
</span><span style="">    </span><span style="">println</span><span style="color:#f92672">!</span><span style="">(</span><span style="color:#e6db74">&#34;{}&#34;</span><span style="">,</span><span style=""> </span><span style="">i</span><span style="">);</span><span style="">
</span><span style=""></span><span style="">}</span></code></pre>
</div>
<p>は、想像通り0から9を順に出力します。</p>

<p>vectorの要素を辿っていくこともできます。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-rust" data-lang="rust"><span style="color:#66d9ef">let</span><span style=""> </span><span style="">nums</span><span style=""> </span><span style="color:#f92672">=</span><span style=""> </span><span style="">vec</span><span style="color:#f92672">!</span><span style="">[</span><span style="color:#ae81ff">1</span><span style="">,</span><span style=""> </span><span style="color:#ae81ff">2</span><span style="">,</span><span style=""> </span><span style="color:#ae81ff">3</span><span style="">];</span><span style="">
</span><span style="">
</span><span style=""></span><span style="color:#66d9ef">for</span><span style=""> </span><span style="">num</span><span style=""> </span><span style="color:#66d9ef">in</span><span style=""> </span><span style="color:#f92672">&amp;</span><span style="">nums</span><span style=""> </span><span style="">{</span><span style="">
</span><span style="">    </span><span style="">println</span><span style="color:#f92672">!</span><span style="">(</span><span style="color:#e6db74">&#34;{}&#34;</span><span style="">,</span><span style=""> </span><span style="">num</span><span style="">);</span><span style="">
</span><span style=""></span><span style="">}</span></code></pre>
</div>
<p>便利ですね。
もっとも、C++11にもrange-based-forがあって同じ書き方はできますが。</p>

<h3 id="enumerate">Enumerate</h3>

<p>「何番目まで走査しているか」を知りたいときは、<code>enumerate()</code>関数が使えます。
rangeに対しては、</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-rust" data-lang="rust"><span style="color:#66d9ef">for</span><span style=""> </span><span style="">(</span><span style="">i</span><span style="">,</span><span style=""> </span><span style="">j</span><span style="">)</span><span style=""> </span><span style="color:#66d9ef">in</span><span style=""> </span><span style="">(</span><span style="color:#ae81ff">5</span><span style="">..</span><span style="color:#ae81ff">10</span><span style="">).</span><span style="">enumerate</span><span style="">()</span><span style=""> </span><span style="">{</span><span style="">
</span><span style="">    </span><span style="">println</span><span style="color:#f92672">!</span><span style="">(</span><span style="color:#e6db74">&#34;The {}st number is {}.&#34;</span><span style="">,</span><span style=""> </span><span style="">i</span><span style="">,</span><span style=""> </span><span style="">j</span><span style="">)</span><span style="">
</span><span style=""></span><span style="">}</span></code></pre>
</div>
<p>で、<code>0: 5</code>などの出力が得られ、</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-rust" data-lang="rust"><span style="color:#66d9ef">let</span><span style=""> </span><span style="">lines</span><span style=""> </span><span style="color:#f92672">=</span><span style=""> </span><span style="color:#e6db74">&#34;hello</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">world!&#34;</span><span style="">.</span><span style="">line</span><span style="">();</span><span style="">
</span><span style=""></span><span style="color:#66d9ef">for</span><span style=""> </span><span style="">(</span><span style="">linenumber</span><span style="">,</span><span style=""> </span><span style="">line</span><span style="">)</span><span style=""> </span><span style="color:#66d9ef">in</span><span style=""> </span><span style="">lines</span><span style="">.</span><span style="">enumerate</span><span style="">()</span><span style=""> </span><span style="">{</span><span style="">
</span><span style="">    </span><span style="">println</span><span style="color:#f92672">!</span><span style="">(</span><span style="color:#e6db74">&#34;{}: {}&#34;</span><span style="">,</span><span style=""> </span><span style="">linenumber</span><span style="">,</span><span style=""> </span><span style="">line</span><span style="">);</span><span style="">
</span><span style=""></span><span style="">}</span></code></pre>
</div>
<p>は、</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-console" data-lang="console"><span style="">0: hello
</span><span style="">1: world!</span></code></pre>
</div>
<p>を出力します。</p>

<h2 id="ending-iteration-early">Ending iteration early</h2>

<p>上述の通り、<code>break</code>や<code>return</code>を使えばループを抜けられます。
よって、上に挙げた<code>while</code>の例は以下のように書き換えられます。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-rust" data-lang="rust"><span style="color:#66d9ef">let</span><span style=""> </span><span style="color:#66d9ef">mut</span><span style=""> </span><span style="">x</span><span style=""> </span><span style="color:#f92672">=</span><span style=""> </span><span style="color:#ae81ff">5</span><span style="">;</span><span style="">
</span><span style="">
</span><span style=""></span><span style="color:#66d9ef">loop</span><span style=""> </span><span style="">{</span><span style="">
</span><span style="">    </span><span style="">x</span><span style=""> </span><span style="color:#f92672">+=</span><span style=""> </span><span style="">x</span><span style=""> </span><span style="color:#f92672">-</span><span style=""> </span><span style="color:#ae81ff">3</span><span style="">;</span><span style="">
</span><span style="">    </span><span style="">println</span><span style="color:#f92672">!</span><span style="">(</span><span style="color:#e6db74">&#34;{}&#34;</span><span style="">,</span><span style=""> </span><span style="">x</span><span style="">);</span><span style="">
</span><span style="">
</span><span style="">    </span><span style="color:#66d9ef">if</span><span style=""> </span><span style="">x</span><span style=""> </span><span style="color:#f92672">%</span><span style=""> </span><span style="color:#ae81ff">5</span><span style=""> </span><span style="color:#f92672">==</span><span style=""> </span><span style="color:#ae81ff">0</span><span style=""> </span><span style="">{</span><span style=""> </span><span style="color:#66d9ef">break</span><span style=""></span><span style=""></span><span style="">;</span><span style=""> </span><span style="">}</span><span style="">
</span><span style=""></span><span style="">}</span></code></pre>
</div>
<p><code>continue</code>は次のイテレーションに進みます。
よって次のコードは奇数のみ出力します。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-rust" data-lang="rust"><span style="color:#66d9ef">for</span><span style=""> </span><span style="">x</span><span style=""> </span><span style="color:#66d9ef">in</span><span style=""> </span><span style="color:#ae81ff">0</span><span style="">..</span><span style="color:#ae81ff">10</span><span style=""> </span><span style="">{</span><span style="">
</span><span style="">    </span><span style="color:#66d9ef">if</span><span style=""> </span><span style="">x</span><span style=""> </span><span style="color:#f92672">%</span><span style=""> </span><span style="color:#ae81ff">2</span><span style=""> </span><span style="color:#f92672">==</span><span style=""> </span><span style="color:#ae81ff">0</span><span style=""> </span><span style="">{</span><span style=""> </span><span style="color:#66d9ef">continue</span><span style=""></span><span style=""></span><span style="">;</span><span style=""> </span><span style="">}</span><span style="">
</span><span style="">
</span><span style="">    </span><span style="">println</span><span style="color:#f92672">!</span><span style="">(</span><span style="color:#e6db74">&#34;{}&#34;</span><span style="">,</span><span style=""> </span><span style="">x</span><span style="">);</span><span style="">
</span><span style=""></span><span style="">}</span></code></pre>
</div>
<p><code>break, continue</code>どちらもご存知のとおりでしたね。</p>

<h2 id="loop-label">Loop label</h2>

<p>最後はRust特有の機能でしょうか。私は見たことがありませんでした。</p>

<p>入れ子になったループで<code>break, continue</code>すると、
デフォルトではそれが実行された最も内側のループに対して働きますが、
もっと上層のループを抜けたいときもあります。</p>

<p>そこでRustでは、ループに名前をつけることができます。
以下のように、<code>outer</code>や<code>inner</code>というラベルをつけ、<code>continue 'outer</code>
のようにすれば、外側のループを次に進めることができます。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-rust" data-lang="rust"><span style="color:#a6e22e">&#39;outer</span><span style="">: </span><span style="color:#a6e22e">for</span><span style=""> </span><span style="">x</span><span style=""> </span><span style="color:#66d9ef">in</span><span style=""> </span><span style="color:#ae81ff">0</span><span style="">..</span><span style="color:#ae81ff">10</span><span style=""> </span><span style="">{</span><span style="">
</span><span style="">    </span><span style="color:#a6e22e">&#39;inner</span><span style="">: </span><span style="color:#a6e22e">for</span><span style=""> </span><span style="">y</span><span style=""> </span><span style="color:#66d9ef">in</span><span style=""> </span><span style="color:#ae81ff">0</span><span style="">..</span><span style="color:#ae81ff">10</span><span style=""> </span><span style="">{</span><span style="">
</span><span style="">        </span><span style="color:#66d9ef">if</span><span style=""> </span><span style="">x</span><span style=""> </span><span style="color:#f92672">%</span><span style=""> </span><span style="color:#ae81ff">2</span><span style=""> </span><span style="color:#f92672">==</span><span style=""> </span><span style="color:#ae81ff">0</span><span style=""> </span><span style="">{</span><span style=""> </span><span style="color:#66d9ef">continue</span><span style=""> </span><span style="">&#39;outer</span><span style="">;</span><span style=""> </span><span style="">}</span><span style=""> </span><span style="color:#75715e">// continues the loop over x
</span><span style="color:#75715e"></span><span style="">        </span><span style="color:#66d9ef">if</span><span style=""> </span><span style="">y</span><span style=""> </span><span style="color:#f92672">%</span><span style=""> </span><span style="color:#ae81ff">2</span><span style=""> </span><span style="color:#f92672">==</span><span style=""> </span><span style="color:#ae81ff">0</span><span style=""> </span><span style="">{</span><span style=""> </span><span style="color:#66d9ef">continue</span><span style=""> </span><span style="">&#39;inner</span><span style="">;</span><span style=""> </span><span style="">}</span><span style=""> </span><span style="color:#75715e">// continues the loop over y
</span><span style="color:#75715e"></span><span style="">        </span><span style="">println</span><span style="color:#f92672">!</span><span style="">(</span><span style="color:#e6db74">&#34;x: {}, y: {}&#34;</span><span style="">,</span><span style=""> </span><span style="">x</span><span style="">,</span><span style=""> </span><span style="">y</span><span style="">);</span><span style="">
</span><span style="">    </span><span style="">}</span><span style="">
</span><span style=""></span><span style="">}</span></code></pre>
</div>
<hr />

<p>今回はここまでです。
若干syntaxが違うもののsemanticsはほぼおなじ、条件分岐とループの話でした。</p>

<p>最後のLoop labelは便利ですね。
「終了フラグをたててすべてのループを順に抜ける」のようなコードを書かなくてすみます。
(関数にしてreturnすべしという話はありますが)</p>


  
<div class="prev-next-post pure-g">
  <div class="pure-u-1-24" style="text-align: left;">
    
    <a href="/post/learningrust/primitive_types_and_comments/"><i class="fa fa-chevron-left"></i></a>
    
  </div>
  <div class="pure-u-10-24">
    
    <nav class="prev">
      <a href="/post/learningrust/primitive_types_and_comments/">Learning Rust - Primitive Types and Comments</a>
    </nav>
    
  </div>
  <div class="pure-u-2-24">
    &nbsp;
  </div>
  <div class="pure-u-10-24">
    
    <nav class="next">
      <a href="/post/learningrust/ownership/">Learning Rust - Ownership</a>
    </nav>
    
  </div>
  <div class="pure-u-1-24" style="text-align: right;">
    
    <a href="/post/learningrust/ownership/"><i class="fa fa-chevron-right"></i></a>
    
  </div>
</div>



  

</div>


<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
      tex2jax: { inlineMath: [['$','$'], ["\\(","\\)"]] }
  });
</script>
<script
    type="text/javascript"
    src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" />
</script>

