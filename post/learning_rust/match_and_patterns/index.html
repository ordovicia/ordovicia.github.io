<!DOCTYPE html>
<html lang="en">

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="generator" content="Hugo 0.21" />

  <title>Learning Rust - Match and Patterns &middot; TIL</title>

  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.2/pure-min.css">

  <!--[if lte IE 8]>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.2/grids-responsive-old-ie-min.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.2/grids-responsive-min.css">
  <!--<![endif]-->

  <!--[if lte IE 8]>
  <link rel="stylesheet" href="/css/side-menu-old-ie.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="/css/side-menu.css">
  <!--<![endif]-->

  <link rel="stylesheet" href="/css/blackburn.css">

  
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

  
  <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet" type="text/css">

  
  

  

  <link rel="shortcut icon" href="/img/favicon.ico" type="image/x-icon" />

  
  

</head>


<body>
<div id="layout">

  
<a href="#menu" id="menuLink" class="menu-link">
  
  <span></span>
</a>
<div id="menu">

  

  <div class="pure-menu">
    <ul class="pure-menu-list">
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="/about/"><i class='fa fa-user fa-fw'></i>About</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="/post/"><i class='fa fa-list fa-fw'></i>Posts</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="/tags/"><i class='fa fa-tags fa-fw'></i>Tags</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="/"><i class='fa fa-home fa-fw'></i>Home</a>
      
        </li>
      
    </ul>
  </div>

  <div class="pure-menu social">
  <ul class="pure-menu-list">

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://twitter.com/ordovicia" target="_blank"><i class="fa fa-twitter-square fa-fw"></i>Twitter</a>
    </li>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://github.com/ordovicia" target="_blank"><i class="fa fa-github-square fa-fw"></i>GitHub</a>
    </li>
    

    

    

    

    

    

    

    

    

    

    

    

    

  </ul>
</div>


  <div>
  <div class="small-print">
    <small>&copy; 2017. All rights reserved.</small>
  </div>
  <div class="small-print">
    <small>Built with&nbsp;<a href="https://gohugo.io/" target="_blank">Hugo</a></small>
    <small>Theme&nbsp;<a href="https://github.com/yoshiharuyamashita/blackburn" target="_blank">Blackburn</a></small>
  </div>
</div>

</div>


  <div id="main">


<div class="header">
  <h1>Learning Rust - Match and Patterns</h1>
  <h2></h2>
</div>
<div class="content">

  <div class="post-meta">

  <div>
    <i class="fa fa-calendar fa-fw"></i>
    <time>21 Dec 2015</time>
  </div>

  

  

  
  
  
  <div>
    <i class="fa fa-tags fa-fw"></i>
    
      <a class="post-taxonomy-tag" href="/tags/programming">Programming</a>&nbsp;&#47;
    
      <a class="post-taxonomy-tag" href="/tags/rust">Rust</a>
    
  </div>
  
  

</div>

  

<h1 id="syntax-and-semantics">Syntax and Semantics</h1>

<p>Rustã«ã¯å¼·åŠ›ãªãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãŒã‚ã‚Šã¾ã™ã€‚
ä»Šå›ã¯ãã®ç´¹ä»‹ã§ã™ã€‚</p>

<h2 id="match">Match</h2>

<p>ã¾ãšã¯ç°¡å˜ãªä¾‹ã‹ã‚‰ã€‚<code>match</code>ã®syntaxã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚</p>
<div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #66d9ef">let</span><span style="color: #f8f8f2"> x </span><span style="color: #f92672">=</span><span style="color: #f8f8f2"> </span><span style="color: #ae81ff">5</span><span style="color: #f8f8f2">;</span>

<span style="color: #66d9ef">match</span><span style="color: #f8f8f2"> x {</span>
<span style="color: #f8f8f2">    </span><span style="color: #ae81ff">1</span><span style="color: #f8f8f2"> </span><span style="color: #f92672">=&gt;</span><span style="color: #f8f8f2"> println</span><span style="color: #f92672">!</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;one&quot;</span><span style="color: #f8f8f2">);</span>
<span style="color: #f8f8f2">    </span><span style="color: #ae81ff">2</span><span style="color: #f8f8f2"> </span><span style="color: #f92672">=&gt;</span><span style="color: #f8f8f2"> println</span><span style="color: #f92672">!</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;two&quot;</span><span style="color: #f8f8f2">);</span>
<span style="color: #f8f8f2">    </span><span style="color: #ae81ff">3</span><span style="color: #f8f8f2"> </span><span style="color: #f92672">=&gt;</span><span style="color: #f8f8f2"> println</span><span style="color: #f92672">!</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;three&quot;</span><span style="color: #f8f8f2">);</span>
<span style="color: #f8f8f2">    </span><span style="color: #ae81ff">4</span><span style="color: #f8f8f2"> </span><span style="color: #f92672">=&gt;</span><span style="color: #f8f8f2"> println</span><span style="color: #f92672">!</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;four&quot;</span><span style="color: #f8f8f2">);</span>
<span style="color: #f8f8f2">    </span><span style="color: #ae81ff">5</span><span style="color: #f8f8f2"> </span><span style="color: #f92672">=&gt;</span><span style="color: #f8f8f2"> println</span><span style="color: #f92672">!</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;five&quot;</span><span style="color: #f8f8f2">);</span>
<span style="color: #f8f8f2">    _ </span><span style="color: #f92672">=&gt;</span><span style="color: #f8f8f2"> println</span><span style="color: #f92672">!</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;something else&quot;</span><span style="color: #f8f8f2">);</span>
<span style="color: #f8f8f2">}</span>
</pre></div>

<p><code>match</code>ã¯expressionã‚’ã¨ã‚Šã€<code>{}</code>ã§å›²ã‚“ã§ã€
<code>val =&gt; expression</code>ã®å½¢ã§æã‚’é€£ã­ã¾ã™ã€‚</p>

<p><code>_</code>ã‚’ã¤ã‹ã†ã¨ã€ãªã‚“ã«ã§ã‚‚matchã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
Haskellã¨ãŠãªã˜ã§ã™ã­ã€‚</p>

<p><code>if-else</code>ã¨ã¡ãŒã£ã¦ã€
<code>match</code>ã¯ã™ã¹ã¦ã®å ´åˆã‚’ç¶²ç¾…ã™ã‚‹ã“ã¨ãŒã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«ãƒã‚§ãƒƒã‚¯ã•ã‚Œã¾ã™ã€‚</p>

<p>ã¡ãªã¿ã«ã€</p>
<div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #66d9ef">match</span><span style="color: #f8f8f2"> x {</span>
<span style="color: #f8f8f2">    _ </span><span style="color: #f92672">=&gt;</span><span style="color: #f8f8f2"> println</span><span style="color: #f92672">!</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;something else&quot;</span><span style="color: #f8f8f2">);</span>
<span style="color: #f8f8f2">    </span><span style="color: #ae81ff">5</span><span style="color: #f8f8f2"> </span><span style="color: #f92672">=&gt;</span><span style="color: #f8f8f2"> println</span><span style="color: #f92672">!</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;five&quot;</span><span style="color: #f8f8f2">);</span>
<span style="color: #f8f8f2">}</span>
</pre></div>

<p>ã®ã‚ˆã†ã«ã€<code>_</code>ã‚’ä¸Šã«æ›¸ãã¨ã€<code>5</code>ã®æã«åˆ†å²ã—ãªã„ã‚ˆï¼
ã¨ã„ã†ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ãŒã§ã¾ã—ãŸã€‚</p>

<p><code>match</code>è‡ªä½“ã‚‚expressionãªã®ã§ã€ä»£å…¥ã§ãã¾ã™ã€‚</p>
<div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #66d9ef">let</span><span style="color: #f8f8f2"> x </span><span style="color: #f92672">=</span><span style="color: #f8f8f2"> </span><span style="color: #ae81ff">5</span><span style="color: #f8f8f2">;</span>

<span style="color: #66d9ef">let</span><span style="color: #f8f8f2"> number </span><span style="color: #f92672">=</span><span style="color: #f8f8f2"> </span><span style="color: #66d9ef">match</span><span style="color: #f8f8f2"> x {</span>
<span style="color: #f8f8f2">    </span><span style="color: #ae81ff">1</span><span style="color: #f8f8f2"> </span><span style="color: #f92672">=&gt;</span><span style="color: #f8f8f2"> </span><span style="color: #e6db74">&quot;one&quot;</span><span style="color: #f8f8f2">,</span>
<span style="color: #f8f8f2">    </span><span style="color: #ae81ff">2</span><span style="color: #f8f8f2"> </span><span style="color: #f92672">=&gt;</span><span style="color: #f8f8f2"> </span><span style="color: #e6db74">&quot;two&quot;</span><span style="color: #f8f8f2">,</span>
<span style="color: #f8f8f2">    </span><span style="color: #ae81ff">3</span><span style="color: #f8f8f2"> </span><span style="color: #f92672">=&gt;</span><span style="color: #f8f8f2"> </span><span style="color: #e6db74">&quot;three&quot;</span><span style="color: #f8f8f2">,</span>
<span style="color: #f8f8f2">    </span><span style="color: #ae81ff">4</span><span style="color: #f8f8f2"> </span><span style="color: #f92672">=&gt;</span><span style="color: #f8f8f2"> </span><span style="color: #e6db74">&quot;four&quot;</span><span style="color: #f8f8f2">,</span>
<span style="color: #f8f8f2">    </span><span style="color: #ae81ff">5</span><span style="color: #f8f8f2"> </span><span style="color: #f92672">=&gt;</span><span style="color: #f8f8f2"> </span><span style="color: #e6db74">&quot;five&quot;</span><span style="color: #f8f8f2">,</span>
<span style="color: #f8f8f2">    _ </span><span style="color: #f92672">=&gt;</span><span style="color: #f8f8f2"> </span><span style="color: #e6db74">&quot;somehing else&quot;</span><span style="color: #f8f8f2">,</span>
<span style="color: #f8f8f2">}</span>

<span style="color: #f8f8f2">println</span><span style="color: #f92672">!</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;x is {}&quot;</span><span style="color: #f8f8f2">, number);</span>
</pre></div>

<h2 id="matching-on-enums">Matching on enums</h2>

<p><code>match</code>ã¨ç›¸æ€§ãŒã„ã„ã®ãŒenumã§ã™ã€‚</p>
<div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #66d9ef">enum</span> <span style="color: #a6e22e">Message</span><span style="color: #f8f8f2"> {</span>
<span style="color: #f8f8f2">    Quit,</span>
<span style="color: #f8f8f2">    ChangeColor(</span><span style="color: #66d9ef">i32</span><span style="color: #f8f8f2">, </span><span style="color: #66d9ef">i32</span><span style="color: #f8f8f2">, </span><span style="color: #66d9ef">i32</span><span style="color: #f8f8f2">),</span>
<span style="color: #f8f8f2">    Move { x</span>: <span style="color: #66d9ef">i32</span><span style="color: #f8f8f2">, y</span>: <span style="color: #66d9ef">i32</span> <span style="color: #f8f8f2">},</span>
<span style="color: #f8f8f2">    Write(String),</span>
<span style="color: #f8f8f2">}</span>

<span style="color: #66d9ef">fn</span> <span style="color: #a6e22e">quit</span><span style="color: #f8f8f2">() { </span><span style="color: #75715e">/* ... */</span><span style="color: #f8f8f2"> }</span>
<span style="color: #66d9ef">fn</span> <span style="color: #a6e22e">change_color</span><span style="color: #f8f8f2">(r</span>: <span style="color: #66d9ef">i32</span><span style="color: #f8f8f2">, g</span>: <span style="color: #66d9ef">i32</span><span style="color: #f8f8f2">, b</span>: <span style="color: #66d9ef">i32</span><span style="color: #f8f8f2">) { </span><span style="color: #75715e">/* ... */</span><span style="color: #f8f8f2"> }</span>
<span style="color: #66d9ef">fn</span> <span style="color: #a6e22e">move_cursor</span><span style="color: #f8f8f2">(x</span>: <span style="color: #66d9ef">i32</span><span style="color: #f8f8f2">, y</span>: <span style="color: #66d9ef">i32</span><span style="color: #f8f8f2">) { </span><span style="color: #75715e">/* ... */</span><span style="color: #f8f8f2"> }</span>

<span style="color: #66d9ef">fn</span> <span style="color: #a6e22e">process_message</span><span style="color: #f8f8f2">(msg</span>: <span style="color: #a6e22e">Message</span><span style="color: #f8f8f2">) {</span>
<span style="color: #f8f8f2">    </span><span style="color: #66d9ef">match</span><span style="color: #f8f8f2"> msg {</span>
<span style="color: #f8f8f2">        Message</span>::<span style="color: #f8f8f2">Quit </span><span style="color: #f92672">=&gt;</span><span style="color: #f8f8f2"> quit(),</span>
<span style="color: #f8f8f2">        Message</span>::<span style="color: #f8f8f2">ChangeColor(r, g, b) </span><span style="color: #f92672">=&gt;</span><span style="color: #f8f8f2"> change_color(r, g, b),</span>
<span style="color: #f8f8f2">        Message</span>::<span style="color: #f8f8f2">Move { x</span>: <span style="color: #a6e22e">x</span><span style="color: #f8f8f2">, y</span>: <span style="color: #a6e22e">y</span><span style="color: #f8f8f2"> } </span><span style="color: #f92672">=&gt;</span><span style="color: #f8f8f2"> move_cursor(x, y),</span>
<span style="color: #f8f8f2">        Message</span>::<span style="color: #f8f8f2">Write(s) </span><span style="color: #f92672">=&gt;</span><span style="color: #f8f8f2"> println</span><span style="color: #f92672">!</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;{}&quot;</span><span style="color: #f8f8f2">, s),</span>
<span style="color: #f8f8f2">    };</span>
<span style="color: #f8f8f2">}</span>
</pre></div>

<p>Enumã‚’matchã™ã‚‹ã¨ãã‚‚ã€ã™ã¹ã¦ã®å ´åˆã‚’ç¶²ç¾…ã—ã¦ã„ã‚‹ã‹ãƒã‚§ãƒƒã‚¯ã•ã‚Œã¾ã™ã€‚</p>

<p>ä¸Šã®ä¾‹ã®ã‚ˆã†ã«ã€Matchã®éš›ã«structã®ä¸­èº«ã‚’ã¨ã‚Šã ã™ã“ã¨ãŒã§ãã¾ã™ã€‚
ã“ã®ã‚ˆã†ãªã€patternã®è©³ç´°ã¯æ¬¡ã®ç« ã‹ã‚‰è©³ã—ãè¦‹ã¦ã„ãã¾ã™ã€‚</p>

<h2 id="patterns">Patterns</h2>

<p>ã‚‚ã£ã¨ã‚‚ç°¡å˜ãªpatternã®ä¾‹ã¯æœ€åˆã«æ‰±ã„ã¾ã—ãŸã€‚
æ¬¡ã«é€²ã¿ã¾ã—ã‚‡ã†ã€‚</p>

<h3 id="multiple-patterns">Multiple patterns</h3>

<p><code>|</code>ã‚’ã¤ã‹ã†ã¨ã€orãƒ‘ã‚¿ãƒ¼ãƒ³ãŒå®Ÿç¾ã§ãã¾ã™ã€‚</p>
<div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #66d9ef">let</span><span style="color: #f8f8f2"> x </span><span style="color: #f92672">=</span><span style="color: #f8f8f2"> </span><span style="color: #ae81ff">1</span><span style="color: #f8f8f2">;</span>

<span style="color: #66d9ef">match</span><span style="color: #f8f8f2"> x {</span>
<span style="color: #f8f8f2">    </span><span style="color: #ae81ff">1</span><span style="color: #f8f8f2"> </span><span style="color: #f92672">|</span><span style="color: #f8f8f2"> </span><span style="color: #ae81ff">2</span><span style="color: #f8f8f2"> </span><span style="color: #f92672">=&gt;</span><span style="color: #f8f8f2"> println</span><span style="color: #f92672">!</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;one or two&quot;</span><span style="color: #f8f8f2">),</span>
<span style="color: #f8f8f2">    </span><span style="color: #ae81ff">3</span><span style="color: #f8f8f2"> </span><span style="color: #f92672">=&gt;</span><span style="color: #f8f8f2"> println</span><span style="color: #f92672">!</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;three&quot;</span><span style="color: #f8f8f2">),</span>
<span style="color: #f8f8f2">    _ </span><span style="color: #f92672">=&gt;</span><span style="color: #f8f8f2"> println</span><span style="color: #f92672">!</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;anything&quot;</span><span style="color: #f8f8f2">),</span>
<span style="color: #f8f8f2">}</span>
</pre></div>

<h3 id="destructing">Destructing</h3>

<p>Enumã®matchã§æ‰±ã„ã¾ã—ãŸãŒã€
<code>struct</code>ã‚„<code>enum</code>ãªã©ã®è¤‡åˆå‹ã‚’matchã™ã‚‹ã¨ãã¯ã€
ãã®ãªã‹ã¿ã‚’ã¨ã‚Šã ã™ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #66d9ef">struct</span> <span style="color: #a6e22e">Point</span><span style="color: #f8f8f2"> {</span>
<span style="color: #f8f8f2">    x</span>: <span style="color: #66d9ef">i32</span><span style="color: #f8f8f2">,</span>
<span style="color: #f8f8f2">    y</span>: <span style="color: #66d9ef">i32</span><span style="color: #f8f8f2">,</span>
<span style="color: #f8f8f2">}</span>

<span style="color: #66d9ef">let</span><span style="color: #f8f8f2"> origin </span><span style="color: #f92672">=</span><span style="color: #f8f8f2"> Point { x</span>: <span style="color: #ae81ff">0</span><span style="color: #f8f8f2">, y</span>: <span style="color: #ae81ff">0</span><span style="color: #f8f8f2"> };</span>

<span style="color: #66d9ef">match</span><span style="color: #f8f8f2"> origin {</span>
<span style="color: #f8f8f2">    Point { x, y } </span><span style="color: #f92672">=&gt;</span><span style="color: #f8f8f2"> println</span><span style="color: #f92672">!</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;({},{})&quot;</span><span style="color: #f8f8f2">, x, y),</span>
<span style="color: #f8f8f2">}</span>
</pre></div>

<p><code>struct</code>ãªã‚‰ã€è¦ç´ ã«åˆ¥ã®åå‰ã‚’ã¤ã‘ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚</p>
<div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #66d9ef">match</span><span style="color: #f8f8f2"> origin {</span>
<span style="color: #f8f8f2">    Point { x</span>: <span style="color: #a6e22e">x1</span><span style="color: #f8f8f2">, y</span>: <span style="color: #a6e22e">y1</span><span style="color: #f8f8f2"> } </span><span style="color: #f92672">=&gt;</span><span style="color: #f8f8f2"> println</span><span style="color: #f92672">!</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;({},{})&quot;</span><span style="color: #f8f8f2">, x1, y1),</span>
<span style="color: #f8f8f2">}</span>
</pre></div>

<p>ã•ã‚‰ã«ã€ã™ã¹ã¦ã®è¦ç´ ãŒå¿…è¦ã§ãªã„å•ã¯ã€<code>..</code>ãŒä½¿ãˆã¾ã™ã€‚</p>
<div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #66d9ef">match</span><span style="color: #f8f8f2"> origin {</span>
<span style="color: #f8f8f2">    Point { y, .. } </span><span style="color: #f92672">=&gt;</span><span style="color: #f8f8f2"> println</span><span style="color: #f92672">!</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;y is {}&quot;</span><span style="color: #f8f8f2">, y),</span>
<span style="color: #f8f8f2">}</span>
</pre></div>

<h3 id="ignoring-bindings">Ignoring bindings</h3>

<p><code>_</code>ã‚’ã¤ã‹ãˆã°ãªã‚“ã«ã§ã‚‚matchã—ã¾ã™ãŒã€æ¬¡ã®ã‚ˆã†ã«ã‚‚ä½¿ãˆã¾ã™ã€‚</p>
<div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #66d9ef">match</span><span style="color: #f8f8f2"> some_value {</span>
<span style="color: #f8f8f2">    Ok(value) </span><span style="color: #f92672">=&gt;</span><span style="color: #f8f8f2"> println</span><span style="color: #f92672">!</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;got a value: {}&quot;</span><span style="color: #f8f8f2">, value),</span>
<span style="color: #f8f8f2">    Err(_) </span><span style="color: #f92672">=&gt;</span><span style="color: #f8f8f2"> println</span><span style="color: #f92672">!</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;an error occurred&quot;</span><span style="color: #f8f8f2">),</span>
<span style="color: #f8f8f2">}</span>
</pre></div>

<p><code>some_value</code>ã¯<code>Result&lt;T, E&gt;</code>ã¨ã„ã†å‹ã§ã€
<code>Ok</code>ã‹<code>Err</code>ã¨ã„ã†<code>enum</code>ã®å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚</p>

<p><code>Err(_)</code>ã¯ã€<code>Err</code>ã§ã‚ã‚‹ã¨ã„ã†æƒ…å ±ã ã‘ã§matchã—ã€
ä¸­èº«ãŒãªã‚“ã§ã‚ã‚‹ã‹ã¯æ¨ã¦ã¦ã„ã¾ã™ã€‚</p>

<p><code>match</code>ä»¥å¤–ã§ã‚‚<code>_</code>ãŒä½¿ãˆã¦ã€ãŸã¨ãˆã°ã€</p>
<div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #66d9ef">fn</span> <span style="color: #a6e22e">coodinate</span><span style="color: #f8f8f2">() </span>-&gt; <span style="color: #f8f8f2">(</span><span style="color: #66d9ef">i32</span><span style="color: #f8f8f2">, </span><span style="color: #66d9ef">i32</span><span style="color: #f8f8f2">, </span><span style="color: #66d9ef">i32</span><span style="color: #f8f8f2">) {</span>
<span style="color: #f8f8f2">    </span><span style="color: #75715e">// generate and return some sort of triple tuple</span>
<span style="color: #f8f8f2">}</span>

<span style="color: #66d9ef">let</span><span style="color: #f8f8f2"> (x, _, z) </span><span style="color: #f92672">=</span><span style="color: #f8f8f2"> coodinate();</span>
</pre></div>

<p>ã®ã‚ˆã†ã«ã€tupleã‚’è¿”ã™é–¢æ•°ã®æˆ»ã‚Šå€¤ã®ä¸€éƒ¨ã‚’æ¨ã¦ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p>

<p>ã¾ãŸã€è¤‡æ•°ã®ã‚‚ã®ã‚’æ¨ã¦ã‚‹ã¨ãã¯ã€<code>_, _</code>ãªã©ã®ä»£ã‚ã‚Šã«ã€<code>..</code>ãŒä½¿ãˆã¾ã™ã€‚</p>
<div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #66d9ef">enum</span> <span style="color: #a6e22e">OptionalTuple</span><span style="color: #f8f8f2"> {</span>
<span style="color: #f8f8f2">    Value(</span><span style="color: #66d9ef">i32</span><span style="color: #f8f8f2">, </span><span style="color: #66d9ef">i32</span><span style="color: #f8f8f2">, </span><span style="color: #66d9ef">i32</span><span style="color: #f8f8f2">),</span>
<span style="color: #f8f8f2">    Missing,</span>
<span style="color: #f8f8f2">}</span>

<span style="color: #66d9ef">let</span><span style="color: #f8f8f2"> x </span><span style="color: #f92672">=</span><span style="color: #f8f8f2"> OptionalTuple</span>::<span style="color: #f8f8f2">Value(</span><span style="color: #ae81ff">5</span><span style="color: #f8f8f2">, </span><span style="color: #f92672">-</span><span style="color: #ae81ff">2</span><span style="color: #f8f8f2">, </span><span style="color: #ae81ff">3</span><span style="color: #f8f8f2">);</span>

<span style="color: #66d9ef">match</span><span style="color: #f8f8f2"> x {</span>
<span style="color: #f8f8f2">    OptionalTuple</span>::<span style="color: #f8f8f2">Value(..) </span><span style="color: #f92672">=&gt;</span><span style="color: #f8f8f2"> println</span><span style="color: #f92672">!</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;Got a tuple!&quot;</span><span style="color: #f8f8f2">),</span>
<span style="color: #f8f8f2">    OptionalTuple</span>::<span style="color: #f8f8f2">Missing </span><span style="color: #f92672">=&gt;</span><span style="color: #f8f8f2"> println</span><span style="color: #f92672">!</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;No such luck.&quot;</span><span style="color: #f8f8f2">),</span>
<span style="color: #f8f8f2">}</span>
</pre></div>

<h3 id="ref-and-ref-mut">ref and ref mut</h3>

<p>Matchã—ãŸã‚‚ã®ã‚’å‚ç…§ã§å—ã‘å–ã‚ŠãŸã„ã¨ãã¯ã€<code>ref</code>ã‚’ã¤ã‘ã¾ã™ã€‚</p>
<div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #66d9ef">let</span><span style="color: #f8f8f2"> x </span><span style="color: #f92672">=</span><span style="color: #f8f8f2"> </span><span style="color: #ae81ff">5</span><span style="color: #f8f8f2">;</span>

<span style="color: #66d9ef">match</span><span style="color: #f8f8f2"> x {</span>
<span style="color: #f8f8f2">    </span><span style="color: #66d9ef">ref</span><span style="color: #f8f8f2"> r </span><span style="color: #f92672">=&gt;</span><span style="color: #f8f8f2"> println</span><span style="color: #f92672">!</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;Got a reference to {}&quot;</span><span style="color: #f8f8f2">, r),</span>
<span style="color: #f8f8f2">}</span>
</pre></div>

<p>ã“ã®ã¨ã<code>r</code>ã®å‹ã¯<code>&amp;i32</code>ã«ãªã£ã¦ã„ã¾ã™ã€‚</p>

<p>mutableãªå‚ç…§ãªã‚‰ã€<code>ref mut</code>ã¨ã—ã¾ã™ã€‚</p>

<h3 id="ranges">Ranges</h3>

<p>æ•´æ•°å‹ã¨<code>char</code>ã¯ã€<code>...</code>ã‚’ä½¿ã£ã¦rangeã§matchãŒã§ãã¾ã™ã€‚</p>
<div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #66d9ef">let</span><span style="color: #f8f8f2"> x </span><span style="color: #f92672">=</span><span style="color: #f8f8f2"> </span><span style="color: #ae81ff">1</span><span style="color: #f8f8f2">;</span>

<span style="color: #66d9ef">match</span><span style="color: #f8f8f2"> x {</span>
<span style="color: #f8f8f2">    </span><span style="color: #ae81ff">1</span><span style="color: #f8f8f2"> ... </span><span style="color: #ae81ff">5</span><span style="color: #f8f8f2"> </span><span style="color: #f92672">=&gt;</span><span style="color: #f8f8f2"> println</span><span style="color: #f92672">!</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;one through five&quot;</span><span style="color: #f8f8f2">),</span>
<span style="color: #f8f8f2">    _ </span><span style="color: #f92672">=&gt;</span><span style="color: #f8f8f2"> println</span><span style="color: #f92672">!</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;anything&quot;</span><span style="color: #f8f8f2">),</span>
<span style="color: #f8f8f2">}</span>
</pre></div>
<div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #66d9ef">let</span><span style="color: #f8f8f2"> x </span><span style="color: #f92672">=</span><span style="color: #f8f8f2"> </span><span style="color: #960050; background-color: #1e0010">&#39;ğŸ’…&#39;</span><span style="color: #f8f8f2"></span>

<span style="color: #66d9ef">match</span><span style="color: #f8f8f2"> x {</span>
<span style="color: #f8f8f2">    </span><span style="color: #e6db74">&#39;a&#39;</span><span style="color: #f8f8f2"> ... </span><span style="color: #e6db74">&#39;j&#39;</span><span style="color: #f8f8f2"> </span><span style="color: #f92672">=&gt;</span><span style="color: #f8f8f2"> println</span><span style="color: #f92672">!</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;early letter&quot;</span><span style="color: #f8f8f2">),</span>
<span style="color: #f8f8f2">    </span><span style="color: #e6db74">&#39;k&#39;</span><span style="color: #f8f8f2"> ... </span><span style="color: #e6db74">&#39;z&#39;</span><span style="color: #f8f8f2"> </span><span style="color: #f92672">=&gt;</span><span style="color: #f8f8f2"> println</span><span style="color: #f92672">!</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;late letter&quot;</span><span style="color: #f8f8f2">),</span>
<span style="color: #f8f8f2">    _ </span><span style="color: #f92672">=&gt;</span><span style="color: #f8f8f2"> println</span><span style="color: #f92672">!</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;something else&quot;</span><span style="color: #f8f8f2">),</span>
<span style="color: #f8f8f2">}</span>
</pre></div>

<h3 id="bindings">Bindings</h3>

<p>Matchã—ãŸçµæœã‚’<code>@</code>ã‚’ã¤ã‹ã£ã¦bindã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #66d9ef">let</span><span style="color: #f8f8f2"> x </span><span style="color: #f92672">=</span><span style="color: #f8f8f2"> </span><span style="color: #ae81ff">1</span><span style="color: #f8f8f2">;</span>

<span style="color: #66d9ef">match</span><span style="color: #f8f8f2"> x {</span>
<span style="color: #f8f8f2">    e </span><span style="color: #f92672">@</span><span style="color: #f8f8f2"> </span><span style="color: #ae81ff">1</span><span style="color: #f8f8f2"> ... </span><span style="color: #ae81ff">5</span><span style="color: #f8f8f2"> </span><span style="color: #f92672">=&gt;</span><span style="color: #f8f8f2"> println</span><span style="color: #f92672">!</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;got a range element {}&quot;</span><span style="color: #f8f8f2">, e),</span>
<span style="color: #f8f8f2">    _ </span><span style="color: #f92672">=&gt;</span><span style="color: #f8f8f2"> println</span><span style="color: #f92672">!</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;anything&quot;</span><span style="color: #f8f8f2">),</span>
<span style="color: #f8f8f2">}</span>
</pre></div>

<p>ã“ã®ä¾‹ã ã¨ã€<code>x</code>ã‚’è¡¨ç¤ºã™ã‚Œã°ã„ã„ã§ã™ãŒã€
è¤‡é›‘ãª<code>struct</code>ãªã©ã«ã¤ã‹ã†ã¨ä¾¿åˆ©ã§ã™ã€‚</p>
<div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #75715e">#[derive(Debug)]</span><span style="color: #f8f8f2"></span>
<span style="color: #66d9ef">struct</span> <span style="color: #a6e22e">Person</span><span style="color: #f8f8f2"> {</span>
<span style="color: #f8f8f2">    name</span>: <span style="color: #f8f8f2">Option</span><span style="color: #f92672">&lt;</span><span style="color: #f8f8f2">String</span><span style="color: #f92672">&gt;</span><span style="color: #f8f8f2">,</span>
<span style="color: #f8f8f2">}</span>

<span style="color: #66d9ef">let</span><span style="color: #f8f8f2"> name </span><span style="color: #f92672">=</span><span style="color: #f8f8f2"> </span><span style="color: #e6db74">&quot;Steve&quot;</span><span style="color: #f8f8f2">.to_string();</span>
<span style="color: #66d9ef">let</span><span style="color: #f8f8f2"> </span><span style="color: #66d9ef">mut</span><span style="color: #f8f8f2"> x</span>: <span style="color: #f8f8f2">Option</span><span style="color: #f92672">&lt;</span><span style="color: #f8f8f2">Person</span><span style="color: #f92672">&gt;</span><span style="color: #f8f8f2"> </span><span style="color: #f92672">=</span><span style="color: #f8f8f2"> Some(Person { name</span>: <span style="color: #f8f8f2">Some(name) });</span>

<span style="color: #66d9ef">match</span><span style="color: #f8f8f2"> x {</span>
<span style="color: #f8f8f2">    Some(Person { name</span>: <span style="color: #a6e22e">ref</span><span style="color: #f8f8f2"> a </span><span style="color: #f92672">@</span><span style="color: #f8f8f2"> Some(_), .. }) </span><span style="color: #f92672">=&gt;</span><span style="color: #f8f8f2"> println</span><span style="color: #f92672">!</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;{:?}&quot;</span><span style="color: #f8f8f2">, a),</span>
<span style="color: #f8f8f2">    _ </span><span style="color: #f92672">=&gt;</span><span style="color: #f8f8f2"> {}</span>
<span style="color: #f8f8f2">}</span>
</pre></div>

<p><code>a</code>ã«<code>name</code>ã‚’bindã—ã¦ã„ã¾ã™ã€‚</p>

<p><code>@</code>ã‚’<code>|</code>ã¨ã„ã£ã—ã‚‡ã«ã¤ã‹ã†ã¨ãã¯ã€</p>
<div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #66d9ef">let</span><span style="color: #f8f8f2"> x </span><span style="color: #f92672">=</span><span style="color: #f8f8f2"> </span><span style="color: #ae81ff">5</span><span style="color: #f8f8f2">;</span>
<span style="color: #66d9ef">match</span><span style="color: #f8f8f2"> x {</span>
<span style="color: #f8f8f2">    e </span><span style="color: #f92672">@</span><span style="color: #f8f8f2"> </span><span style="color: #ae81ff">1</span><span style="color: #f8f8f2"> ... </span><span style="color: #ae81ff">5</span><span style="color: #f8f8f2"> </span><span style="color: #f92672">|</span><span style="color: #f8f8f2"> e </span><span style="color: #f92672">@</span><span style="color: #f8f8f2"> </span><span style="color: #ae81ff">8</span><span style="color: #f8f8f2"> ... </span><span style="color: #ae81ff">10</span><span style="color: #f8f8f2"> </span><span style="color: #f92672">=&gt;</span><span style="color: #f8f8f2"> println</span><span style="color: #f92672">!</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;got a range element {}&quot;</span><span style="color: #f8f8f2">, e),</span>
<span style="color: #f8f8f2">    _ </span><span style="color: #f92672">=&gt;</span><span style="color: #f8f8f2"> println</span><span style="color: #f92672">!</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;anything&quot;</span><span style="color: #f8f8f2">),</span>
<span style="color: #f8f8f2">}</span>
</pre></div>

<p>ã®ã‚ˆã†ã«ã€<code>|</code>ã§åŒºåˆ‡ã£ãŸã™ã¹ã¦ã®éƒ¨åˆ†ã«ã¤ã„ã¦bindã™ã‚‹ã‚ˆã†ã«æ›¸ãã¾ã™ã€‚</p>

<h3 id="guards">Guards</h3>

<p>Matchã®æ¡ä»¶ã«<code>if</code>ã‚’æ›¸ãã“ã¨ã§ã€guardã‚‚å®Ÿç¾ã§ãã¾ã™ã€‚</p>
<div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #66d9ef">enum</span> <span style="color: #a6e22e">OptionalInt</span><span style="color: #f8f8f2"> {</span>
<span style="color: #f8f8f2">    Value(</span><span style="color: #66d9ef">i32</span><span style="color: #f8f8f2">),</span>
<span style="color: #f8f8f2">    Missing,</span>
<span style="color: #f8f8f2">}</span>

<span style="color: #66d9ef">let</span><span style="color: #f8f8f2"> x </span><span style="color: #f92672">=</span><span style="color: #f8f8f2"> OptionalInt</span>::<span style="color: #f8f8f2">Value(</span><span style="color: #ae81ff">5</span><span style="color: #f8f8f2">);</span>

<span style="color: #66d9ef">match</span><span style="color: #f8f8f2"> x {</span>
<span style="color: #f8f8f2">    OptionalInt</span>::<span style="color: #f8f8f2">Value(i) </span><span style="color: #66d9ef">if</span><span style="color: #f8f8f2"> i </span><span style="color: #f92672">&gt;</span><span style="color: #f8f8f2"> </span><span style="color: #ae81ff">5</span><span style="color: #f8f8f2"> </span><span style="color: #f92672">=&gt;</span><span style="color: #f8f8f2"> println</span><span style="color: #f92672">!</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;Got an int bigger than five!&quot;</span><span style="color: #f8f8f2">),</span>
<span style="color: #f8f8f2">    OptionalInt</span>::<span style="color: #f8f8f2">Value(..) </span><span style="color: #f92672">=&gt;</span><span style="color: #f8f8f2"> println</span><span style="color: #f92672">!</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;Got an int!&quot;</span><span style="color: #f8f8f2">),</span>
<span style="color: #f8f8f2">    OptionalInt</span>::<span style="color: #f8f8f2">Missing </span><span style="color: #f92672">=&gt;</span><span style="color: #f8f8f2"> println</span><span style="color: #f92672">!</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;No such luck.&quot;</span><span style="color: #f8f8f2">),</span>
<span style="color: #f8f8f2">}</span>
</pre></div>

<p><code>i &gt; 5</code>ãŒ<code>false</code>ãªã®ã§ã€ã²ã¨ã¤ç›®ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã«ã¯ãƒãƒƒãƒã›ãšã€
ãµãŸã¤ç›®ã«å…¥ã‚Šã¾ã™ã€‚</p>
<div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #66d9ef">match</span><span style="color: #f8f8f2"> x {</span>
<span style="color: #f8f8f2">    OptionalInt</span>::<span style="color: #f8f8f2">Value(i) </span><span style="color: #f92672">=&gt;</span><span style="color: #f8f8f2"> </span><span style="color: #66d9ef">if</span><span style="color: #f8f8f2"> i </span><span style="color: #f92672">&gt;</span><span style="color: #f8f8f2"> </span><span style="color: #ae81ff">5</span><span style="color: #f8f8f2"> {</span>
<span style="color: #f8f8f2">            println</span><span style="color: #f92672">!</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;Got an int bigger than five!&quot;</span><span style="color: #f8f8f2">);</span>
<span style="color: #f8f8f2">        } </span><span style="color: #66d9ef">else</span><span style="color: #f8f8f2"> {</span>
<span style="color: #f8f8f2">            println</span><span style="color: #f92672">!</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;Got an int!&quot;</span><span style="color: #f8f8f2">),</span>
<span style="color: #f8f8f2">        },</span>
<span style="color: #f8f8f2">    OptionalInt</span>::<span style="color: #f8f8f2">Missing </span><span style="color: #f92672">=&gt;</span><span style="color: #f8f8f2"> println</span><span style="color: #f92672">!</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;No such luck.&quot;</span><span style="color: #f8f8f2">),</span>
<span style="color: #f8f8f2">}</span>
</pre></div>

<p>ã¨ã—ã¦ã‚‚åŒã˜ã§ã™ãŒã€guardã‚’ã¤ã‹ã£ãŸã»ã†ãŒå¤šå°‘ã‚ã‹ã‚Šã‚„ã™ã„ã§ã—ã‚‡ã†ã‹ã€‚</p>

<p><code>|</code>ã¨çµ„ã¿åˆã‚ã›ã‚‹ã¨ãã¯ã€guardã®<code>if</code>ã¯<code>|</code>ã§åŒºåˆ‡ã£ãŸã™ã¹ã¦ã®éƒ¨åˆ†ã«æ›ã‹ã‚Šã¾ã™ã€‚
ã¤ã¾ã‚Šã€</p>
<div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #66d9ef">let</span><span style="color: #f8f8f2"> x </span><span style="color: #f92672">=</span><span style="color: #f8f8f2"> </span><span style="color: #ae81ff">4</span><span style="color: #f8f8f2">;</span>
<span style="color: #66d9ef">let</span><span style="color: #f8f8f2"> y </span><span style="color: #f92672">=</span><span style="color: #f8f8f2"> </span><span style="color: #66d9ef">false</span><span style="color: #f8f8f2">;</span>

<span style="color: #66d9ef">match</span><span style="color: #f8f8f2"> x {</span>
<span style="color: #f8f8f2">    </span><span style="color: #ae81ff">4</span><span style="color: #f8f8f2"> </span><span style="color: #f92672">|</span><span style="color: #f8f8f2"> </span><span style="color: #ae81ff">5</span><span style="color: #f8f8f2"> </span><span style="color: #66d9ef">if</span><span style="color: #f8f8f2"> y </span><span style="color: #f92672">=&gt;</span><span style="color: #f8f8f2"> println</span><span style="color: #f92672">!</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;yes&quot;</span><span style="color: #f8f8f2">),</span>
<span style="color: #f8f8f2">    _ </span><span style="color: #f92672">=&gt;</span><span style="color: #f8f8f2"> println</span><span style="color: #f92672">!</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;no&quot;</span><span style="color: #f8f8f2">),</span>
<span style="color: #f8f8f2">}</span>
</pre></div>

<p>ã¨æ›¸ãã¨ã€<code>4 | (5 if y)</code>ã§ã¯ãªãã€<code>(4 | 5) if y</code>ã¨è§£é‡ˆã•ã‚Œã¾ã™ã€‚</p>

<p>ã¡ãªã¿ã«ã€</p>
<div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #66d9ef">let</span><span style="color: #f8f8f2"> x </span><span style="color: #f92672">=</span><span style="color: #f8f8f2"> </span><span style="color: #ae81ff">4</span><span style="color: #f8f8f2">;</span>

<span style="color: #66d9ef">match</span><span style="color: #f8f8f2"> x {</span>
<span style="color: #f8f8f2">    i </span><span style="color: #66d9ef">if</span><span style="color: #f8f8f2"> i </span><span style="color: #f92672">%</span><span style="color: #f8f8f2"> </span><span style="color: #ae81ff">2</span><span style="color: #f8f8f2"> </span><span style="color: #f92672">==</span><span style="color: #f8f8f2"> </span><span style="color: #ae81ff">0</span><span style="color: #f8f8f2"> </span><span style="color: #f92672">=&gt;</span><span style="color: #f8f8f2"> println</span><span style="color: #f92672">!</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;even&quot;</span><span style="color: #f8f8f2">),</span>
<span style="color: #f8f8f2">    </span><span style="color: #ae81ff">4</span><span style="color: #f8f8f2"> </span><span style="color: #f92672">=&gt;</span><span style="color: #f8f8f2"> println</span><span style="color: #f92672">!</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;four&quot;</span><span style="color: #f8f8f2">),</span>
<span style="color: #f8f8f2">    _ </span><span style="color: #f92672">=&gt;</span><span style="color: #f8f8f2"> println</span><span style="color: #f92672">!</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;something else&quot;</span><span style="color: #f8f8f2">),</span>
<span style="color: #f8f8f2">}</span>
</pre></div>

<p>ã¨æ›¸ãã¨ã€æœ€åˆã®guardã«ãƒãƒƒãƒã™ã‚‹ã®ã§ã€<code>4 =&gt;</code>ã®patternã¯èµ·ã“ã‚Šãˆã¾ã›ã‚“ã€‚
<code>_</code>ã‚’æœ€å¾Œä»¥å¤–ã«æ›¸ã„ãŸã¨ãã¨ã¡ãŒã£ã¦ã€ã“ã®å ´åˆã¯è­¦å‘Šã‚‚å‡ºãªã„ã‚ˆã†ã§ã™ã€‚</p>

<p>æœ€å¾Œã«ã²ã¨ã¤æ³¨æ„ã§ã™ã€‚</p>
<div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #66d9ef">let</span><span style="color: #f8f8f2"> x </span><span style="color: #f92672">=</span><span style="color: #f8f8f2"> </span><span style="color: #e6db74">&#39;x&#39;</span><span style="color: #f8f8f2">;</span>
<span style="color: #66d9ef">let</span><span style="color: #f8f8f2"> c </span><span style="color: #f92672">=</span><span style="color: #f8f8f2"> </span><span style="color: #e6db74">&#39;c&#39;</span><span style="color: #f8f8f2">;</span>

<span style="color: #66d9ef">match</span><span style="color: #f8f8f2"> c {</span>
<span style="color: #f8f8f2">    x </span><span style="color: #f92672">=&gt;</span><span style="color: #f8f8f2"> println</span><span style="color: #f92672">!</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;x: {}, c: {}&quot;</span><span style="color: #f8f8f2">, x, c),</span>
<span style="color: #f8f8f2">}</span>

<span style="color: #f8f8f2">println</span><span style="color: #f92672">!</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;x: {}&quot;</span><span style="color: #f8f8f2">, x);</span>
</pre></div>

<p>ã¯ã€</p>

<pre><code>x: c, c: c
x: x
</code></pre>

<p>ã‚’å‡ºåŠ›ã—ã¾ã™ã€‚
Matchã®çµæœã‚’bindã—ãŸå¤‰æ•°ã¯ã€
<code>match</code>ã®ã‚¹ã‚³ãƒ¼ãƒ—å†…ã§ã®ã¿æœ‰åŠ¹ãªã€ã‚ãŸã‚‰ã—ãã¤ãã‚‰ã‚ŒãŸvariable bindingã§ã™ã€‚
ãã®ãŸã‚ã€ä¸€è¡Œç›®ã§å®šç¾©ã—ãŸ<code>x</code>ã¯éš ã•ã‚Œã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚</p>

<hr />

<p>ä»Šå›ã¯ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒã‚’æ‰±ã„ã¾ã—ãŸã€‚
ç¾ä»£çš„ãªä¾¿åˆ©æ§‹æ–‡ãªã®ã§ãœã²å®Ÿç”¨ã—ã¦ã¿ãŸã„ã§ã™ã€‚</p>


  
<div class="prev-next-post pure-g">
  <div class="pure-u-1-24" style="text-align: left;">
    
    <a href="/post/learning_rust/mutability/"><i class="fa fa-chevron-left"></i></a>
    
  </div>
  <div class="pure-u-10-24">
    
    <nav class="prev">
      <a href="/post/learning_rust/mutability/">Learning Rust - Mutability</a>
    </nav>
    
  </div>
  <div class="pure-u-2-24">
    &nbsp;
  </div>
  <div class="pure-u-10-24">
    
    <nav class="next">
      <a href="/post/gcc_build_boost_on_osx_yosemite/">Building Boost with GCC on OSX Yosemite</a>
    </nav>
    
  </div>
  <div class="pure-u-1-24" style="text-align: right;">
    
    <a href="/post/gcc_build_boost_on_osx_yosemite/"><i class="fa fa-chevron-right"></i></a>
    
  </div>
</div>



  

</div>


<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
      tex2jax: { inlineMath: [['$','$'], ["\\(","\\)"]] }
  });
</script>
<script
    type="text/javascript"
    src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" />
</script>

